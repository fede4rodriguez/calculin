---
import Layout from '../components/layout.astro';
import { CalcComponent } from '../components/calc.tsx';
import Header from '../components/header.astro';
---

<Layout title="CalcuLink">	
	<Header hiddenTitle={true} />
	<main class="flex-1 flex gap-4 flex-row items-center justify-center">		
		<section class="h-64 w-96 hidden lg:flex lg:flex-col">
			<h1 class="text-4xl font-bold text-white" transition:name="title">
				CalcuLink
			</h1>
			<p class="text-white/60 text-balance">
				Una calculadora que te permite comentar y detallar tus c√°lculos y compartirlos con otras personas.
			</p>
			<div class="mt-6 flex flex-row gap-2">
				<a 
					id="start"
					href="/calc"
					class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
				>
					Empezar
				</a>
			</div>
		</section>
		
		<section class="flex flex-row items-center" transition:name="calc-content" transition:animate="slide">
			<CalcComponent client:load transition:name="calc" transition:persist transition:animate="none" />
		</section>
	</main>
</Layout>

<script>	
	// navigate to /calc when key is pressed
	import { KEYBOARD_KEYS } from '../lib/constants';
	document.addEventListener('keydown', (e) => {

		const { key } = e as KeyboardEvent;

		if (KEYBOARD_KEYS[key] != null) {
			document.getElementById('start')?.click()		
		}
	});

	// navigate to /calc when calc element is clicked
	document.getElementById('calc')?.addEventListener('click', () => {
		document.getElementById('start')?.click()		
	});
</script>
